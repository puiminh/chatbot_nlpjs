<html>
<head>
  <title>Test</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
    <!-- <p>B1: Them cac ngu canh</p>
    <p>B2: Chay npm run browserdist</p>
    <p>B3: Load lai web</p> -->

    <section class="msger">
      <header class="msger-header">
        <div class="msger-header-title">
          <i class="fas fa-comment-alt"></i> SimpleChat
        </div>
        <div class="msger-header-options">
          <span><i class="fas fa-cog"></i></span>
        </div>
      </header>
    
      <main class="msger-chat">
        <div class="msg left-msg">
          <div
           class="msg-img"
           style="background-image: url(https://image.flaticon.com/icons/svg/327/327779.svg)"
          ></div>
    
          <div class="msg-bubble">
            <div class="msg-info">
              <div class="msg-info-name">BOT</div>
              <div class="msg-info-time">12:45</div>
            </div>
    
            <div class="msg-text">
              Hi, welcome to SimpleChat! Go ahead and send me a message. ðŸ˜„
            </div>
          </div>
        </div>
    
        <div class="msg right-msg">
        </div>
      </main>
    
      <form class="msger-inputarea">
        <input type="text" class="msger-input" placeholder="Enter your message...">
        <button type="submit" class="msger-send-btn">Send</button>
      </form>
    </section>

</body>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="./chat_interface.js"></script>

<script>  
msgerForm.addEventListener("submit", event => {
    event.preventDefault();
  
    const msgText = msgerInput.value;
    if (!msgText) return;
  
    appendMessage(PERSON_NAME, PERSON_IMG, "right", msgText);
    msgerInput.value = "";
  
    process(msgText).then((e) => {
      botResponse(e);
    })
  });


const process = async (input_text) => {
  
  let answer = await axios.post('http://localhost:8080/messages', {
    userId: 1,
    content: input_text
  })
  .then(function (response) {
    console.log(response.data.answer);

    return response.data.answer;
  })
  .catch(function (error) {
    console.log(error);

    return "There is some problem with server"
  });

  return answer;
}


</script>
</html>